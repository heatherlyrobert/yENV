#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [··]  (GROUP) verify core data gathering                                 0s   core            yENV_group_data                                                              ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   local      create a name variable               - - - - - - - - - - - - -   char  x_name  [LEN_USER]  = "";                                                                                                                                                                                            
   local      create a gid variable                - - - - - - - - - - - - -   int   x_gid  = -1;                                                                                                                                                                                                         
   local      create a desc variable               - - - - - - - - - - - - -   char  x_qual   = '-';                                                                                                                                                                                                      
   local      create a desc variable               - - - - - - - - - - - - -   char  x_act    = '-';                                                                                                                                                                                                      
   local      create a desc variable               - - - - - - - - - - - - -   char  x_usr    =   0;                                                                                                                                                                                                      
   local      create a desc variable               - - - - - - - - - - - - -   char  x_ulst   [LEN_HUND]  = "";                                                                                                                                                                                            
   local      create a desc variable               - - - - - - - - - - - - -   char  x_uids   [LEN_HUND]  = "";                                                                                                                                                                                            

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    

   COND       start with a success                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     preprare input                       - - - - - - - - - - - - -   strcpy (x_name, "users");                                                                                                                                                                                                   
     exec     call group validation                yENV_group_data             'n'  , x_name                 , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åusersæ                                                                                               
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     100                                                                                                  
     echo     ...check returned quality            - - - - - - - - - - - - -   x_qual                                                                                                c_equal     'y'                                                                                                  
     echo     ...check returned active             - - - - - - - - - - - - -   x_act                                                                                                 c_equal     'y'                                                                                                  
     echo     ...check returned users              - - - - - - - - - - - - -   x_usr                                                                                                 i_equal     0                                                                                                    
     echo     ...check returned user names         - - - - - - - - - - - - -   x_ulst                                                                                                w_equal     å.æ                                                                                                   
     echo     ...check returned user uids          - - - - - - - - - - - - -   x_uids                                                                                                w_equal     å.æ                                                                                                   

   COND       attempt an illegal group                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     preprare input                       - - - - - - - - - - - - -   strcpy (x_name, "hooptydoo");                                                                                                                                                                                               
     exec     call group validation                yENV_group_data             'n'  , x_name                 , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åhooptydooæ                                                                                           
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned quality            - - - - - - - - - - - - -   x_qual                                                                                                c_equal     '-'                                                                                                  
     echo     ...check returned active             - - - - - - - - - - - - -   x_act                                                                                                 c_equal     '-'                                                                                                  
     echo     ...check returned users              - - - - - - - - - - - - -   x_usr                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned user names         - - - - - - - - - - - - -   x_ulst                                                                                                w_equal     åæ                                                                                                   
     echo     ...check returned user uids          - - - - - - - - - - - - -   x_uids                                                                                                w_equal     åæ                                                                                                   

   COND       verify another success                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     preprare input                       - - - - - - - - - - - - -   strcpy (x_name, "adm");                                                                                                                                                                                                     
     exec     call group validation                yENV_group_data             'n'  , x_name                 , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åadmæ                                                                                                 
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     4                                                                                                    
     echo     ...check returned quality            - - - - - - - - - - - - -   x_qual                                                                                                c_equal     'y'                                                                                                  
     echo     ...check returned active             - - - - - - - - - - - - -   x_act                                                                                                 c_equal     'y'                                                                                                  
     echo     ...check returned users              - - - - - - - - - - - - -   x_usr                                                                                                 i_equal     3                                                                                                    
     echo     ...check returned user names         - - - - - - - - - - - - -   x_ulst                                                                                                w_equal     å,root,adm,daemon,æ                                                                                                   
     echo     ...check returned user uids          - - - - - - - - - - - - -   x_uids                                                                                                w_equal     å,0,3,2,æ                                                                                                   

   COND       verify testing defenses (by name)                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     preprare input                       - - - - - - - - - - - - -   strcpy (x_name, "users");                                                                                                                                                                                                   
     exec     call group validation                yENV_group_data             'n'  , NULL                   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     exec     call group validation                yENV_group_data             'n'  , x_name                 , NULL   , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    

   COND       verify defenses by name                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     preprare input                       - - - - - - - - - - - - -   strcpy (x_name, "adm");                                                                                                                                                                                                     
     exec     call group validation                yENV_group_data             'n'  , NULL                   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     exec     call group validation                yENV_group_data             'n'  , x_name                 , NULL   , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    

   COND       verify by group id                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     preprare input                       - - - - - - - - - - - - -   x_gid = 100;                                                                                                                                                                                                                
     exec     call group validation                yENV_group_data             'i'  , x_name                 , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åusersæ                                                                                               
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     100                                                                                                  

   COND       verify testing defenses (by gid)                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     preprare input                       - - - - - - - - - - - - -   x_gid = 100;                                                                                                                                                                                                                
     exec     call group validation                yENV_group_data             'i'  , NULL                   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     exec     call group validation                yENV_group_data             'i'  , x_name                 , NULL   , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    

   COND       attempt a bad group id                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     preprare input                       - - - - - - - - - - - - -   x_gid = 987;                                                                                                                                                                                                                
     exec     call group validation                yENV_group_data             'i'  , x_name                 , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åæ                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     987                                                                                                  

   COND       verify another success by id                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     preprare input                       - - - - - - - - - - - - -   x_gid =   4;                                                                                                                                                                                                                
     exec     call group validation                yENV_group_data             'i'  , x_name                 , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åadmæ                                                                                                 
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     4                                                                                                    

   COND       verify defenses by group id                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     preprare input                       - - - - - - - - - - - - -   x_gid =   4;                                                                                                                                                                                                                
     exec     call group validation                yENV_group_data             'i'  , NULL                   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     exec     call group validation                yENV_group_data             'i'  , x_name                 , NULL   , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    

   COND       appempt with bad types                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group validation                yENV_group_data              0   , x_name                 , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     exec     call group validation                yENV_group_data             'W'  , x_name                 , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     exec     call group validation                yENV_group_data             '?'  , x_name                 , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [··]  (GROUP) verify adding and deleting groups                          5s   unittest        yENV_group_add, yENV_group_del, yENV_group_purge                             ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   local      create a gid variable                - - - - - - - - - - - - -   int   x_gid  = -1;                                                                                                                                                                                                         
   local      create a desc variable               - - - - - - - - - - - - -   char  x_qual   = '-';                                                                                                                                                                                                      
   local      create a desc variable               - - - - - - - - - - - - -   char  x_act    = '-';                                                                                                                                                                                                      
   local      create a desc variable               - - - - - - - - - - - - -   char  x_usr    =   0;                                                                                                                                                                                                      
   local      create a desc variable               - - - - - - - - - - - - -   char  x_ulst   [LEN_HUND]  = "";                                                                                                                                                                                            
   local      create a desc variable               - - - - - - - - - - - - -   char  x_uids   [LEN_HUND]  = "";                                                                                                                                                                                            

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    

   COND       verify a group does not exist                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group validation                yENV_group_data             'n'           , "GRP_share"   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       verify creating a unit test group                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group add                       yENV_group_add              "GRP_share"   , 900                                                                                   i_equal     0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_share"   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     900                                                                                                  

   COND       attempt to double create                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group add                       yENV_group_add              "GRP_share"   , 900                                                                                   i_equal     1                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_share"   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     900                                                                                                  

   COND       verify deleting a unit test group                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group del                       yENV_group_del              "GRP_share"                                                                                           i_equal     0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_share"   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       attempt to double delete                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group del                       yENV_group_del              "GRP_share"                                                                                           i_equal     1                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_share"   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       attempt to create with wrong prefix                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group add                       yENV_group_add              "share"       , 900                                                                                   i_lesser    0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "share"       , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       attempt to delete with wrong prefix                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group del                       yENV_group_del              "share"                                                                                               i_lesser    0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "share"       , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       attempt to create with out-of-range low gid                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group add                       yENV_group_add              "GRP_share"   , 899                                                                                   i_lesser    0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_share"   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       attempt to create with out-of-range high gid                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group add                       yENV_group_add              "GRP_share"   , 1000                                                                                  i_lesser    0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_share"   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       verify creating a unit test group                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group add                       yENV_group_add              "GRP_monkey"  , 931                                                                                   i_equal     0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_monkey"  , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     931                                                                                                  

   COND       attempt creating with the same name                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group add                       yENV_group_add              "GRP_monkey"  , 952                                                                                   i_lesser    0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_monkey"  , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     931                                                                                                  

   COND       attempt creating with the same gid                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group add                       yENV_group_add              "GRP_purse"   , 931                                                                                   i_lesser    0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_purse"   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       verify deleting                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group del                       yENV_group_del              "GRP_monkey"                                                                                          i_equal     0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_monkey"  , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       verify creating a unit test group                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group add                       yENV_group_add              "GRP_monkey"  , 931                                                                                   i_equal     0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_monkey"  , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     931                                                                                                  

   COND       verify creating a unit test group                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group add                       yENV_group_add              "GRP_share"   , 900                                                                                   i_equal     0                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_share"   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_equal     0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     900                                                                                                  

   COND       verify purging unit test groups                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group purge                     yENV_group_purge                                                                                                                  i_equal     2                                                                                                    
     exec     call group validation                yENV_group_data             'n'           , "GRP_purse"   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   
     exec     call group validation                yENV_group_data             'n'           , "GRP_monkey"  , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   
     exec     call group validation                yENV_group_data             'n'           , "GRP_share"   , &x_gid , &x_qual, &x_act , &x_usr , x_ulst, x_uids                    i_lesser    0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [··]  (GROUP) verify group full interface                                0s   full            yENV_group_full                                                              ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   local      create a name variable               - - - - - - - - - - - - -   char  x_name  [LEN_USER]  = "";                                                                                                                                                                                            
   local      create a gid variable                - - - - - - - - - - - - -   int   x_gid  = -1;                                                                                                                                                                                                         
   local      create a desc variable               - - - - - - - - - - - - -   char  h       [LEN_LABEL] = "";                                                                                                                                                                                            
   local      create a desc variable               - - - - - - - - - - - - -   char  x_qual   = '-';                                                                                                                                                                                                      
   local      create a desc variable               - - - - - - - - - - - - -   char  x_act    = '-';                                                                                                                                                                                                      
   local      create a desc variable               - - - - - - - - - - - - -   char  x_usr    =   0;                                                                                                                                                                                                      
   local      create a desc variable               - - - - - - - - - - - - -   char  x_lst    [LEN_HUND]  = "";                                                                                                                                                                                            
   local      create a desc variable               - - - - - - - - - - - - -   char  x_ids    [LEN_HUND]  = "";                                                                                                                                                                                            

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    

   COND       verify quick success                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group validation                yENV_group_full             YENV_REG      , "users"       , x_name , &x_gid , &h     , &x_qual, &x_act , &x_usr  , x_lst, x_ids   i_equal     1                                                                                                    
     echo     ...check returned handler            - - - - - - - - - - - - -   h                                                                                                     w_equal     ånameæ                                                                                           

   COND  (0)  review output                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åusersæ                                                                                               
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     100                                                                                                  
     echo     ...check name quality                - - - - - - - - - - - - -   x_qual                                                                                                c_equal     'y'                                                                                                  
     echo     ...check active                      - - - - - - - - - - - - -   x_act                                                                                                 c_equal     'y'                                                                                                  
     echo     ...check count of users              - - - - - - - - - - - - -   x_usr                                                                                                 i_equal     0                                                                                                    
     echo     ...check list of users               - - - - - - - - - - - - -   x_lst                                                                                                 w_equal     å.æ                                                                                                   
     echo     ...check list of uids                - - - - - - - - - - - - -   x_ids                                                                                                 w_equal     å.æ                                                                                                   

   COND       verify quick success with gid                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group validation                yENV_group_full             YENV_REG      , "100"         , x_name , &x_gid , &h     , &x_qual, &x_act , &x_usr  , x_lst, x_ids   i_equal     1                                                                                                    
     echo     ...check returned handler            - - - - - - - - - - - - -   h                                                                                                     w_equal     ågidæ                                                                                            

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with missing gid                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group validation                yENV_group_full             YENV_REG      , "900"         , x_name , &x_gid , &h     , &x_qual, &x_act , &x_usr  , x_lst, x_ids   i_lesser    0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åæ                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       verify finding new group                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group add                       yENV_group_add              "GRP_share"   , 900                                                                                   i_equal     0                                                                                                    
     exec     call group validation                yENV_group_full             YENV_REG      , "900"         , x_name , &x_gid , &h     , &x_qual, &x_act , &x_usr  , x_lst, x_ids   i_equal     1                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åGRP_shareæ                                                                                                     
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     900                                                                                                  

   COND       attempt finding deleted group                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group del                       yENV_group_del              "GRP_share"                                                                                           i_equal     0                                                                                                    
     exec     call group validation                yENV_group_full             YENV_REG      , "900"         , x_name , &x_gid , &h     , &x_qual, &x_act , &x_usr  , x_lst, x_ids   i_lesser    0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åæ                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       verify ignoring group                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call group validation                yENV_group_full             YENV_REG      , "-"           , x_name , &x_gid , &h     , &x_qual, &x_act , &x_usr  , x_lst, x_ids   i_equal     0                                                                                                    
     echo     ...check returned handler            - - - - - - - - - - - - -   h                                                                                                     w_equal     åignoreæ                                                                                         
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åæ                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [··]  (GROUP) verify parsing groups for a user                           0s   parsing         yenv_groups__by_user                                                         ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   local      create a name variable               - - - - - - - - - - - - -   char  x_names [LEN_HUND]  = "";                                                                                                                                                                                            
   local      create a name variable               - - - - - - - - - - - - -   char  x_gids  [LEN_HUND]  = "";                                                                                                                                                                                            

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    

   COND       verify count of groups                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     prepare variable                     - - - - - - - - - - - - -   strcpy (x_names, ",");    strcpy (x_gids, ",");                                                                                                                                                                             
     exec     call line                            yenv_groups__by_user        "users:x:100:root,member"                          , "root"        , x_names       , x_gids           i_equal     1                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,users,æ                                                                                      
     echo     ...check gids                        - - - - - - - - - - - - -   x_gids                                                                                                w_equal     å,100,æ                                                                                       

   COND       attempt with a NULL                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_groups__by_user        NULL                                               , "root"        , x_names       , x_gids           i_lesser    0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,users,æ                                                                                      
     echo     ...check gids                        - - - - - - - - - - - - -   x_gids                                                                                                w_equal     å,100,æ                                                                                       

   COND       verify another record right after                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_groups__by_user        "wheel:x:10:member,adm,root"                       , "root"        , x_names       , x_gids           i_equal     1                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,users,wheel,æ                                                                                      
     echo     ...check gids                        - - - - - - - - - - - - -   x_gids                                                                                                w_equal     å,100,10,æ                                                                                       

   COND       attempt with a empty record                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_groups__by_user        ""                                                 , "root"        , x_names       , x_gids           i_lesser    0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,users,wheel,æ                                                                                      
     echo     ...check gids                        - - - - - - - - - - - - -   x_gids                                                                                                w_equal     å,100,10,æ                                                                                       

   COND       verify when nothing matches after                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_groups__by_user        "cdrom:x:19:"                                      , "root"        , x_names       , x_gids           i_equal     0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,users,wheel,æ                                                                                      
     echo     ...check gids                        - - - - - - - - - - - - -   x_gids                                                                                                w_equal     å,100,10,æ                                                                                       

   COND       attempt with a NULL user                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_groups__by_user        "testing:x:666:root"                               , NULL          , x_names       , x_gids           i_lesser    0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,users,wheel,æ                                                                                      
     echo     ...check gids                        - - - - - - - - - - - - -   x_gids                                                                                                w_equal     å,100,10,æ                                                                                       

   COND       verify with a empty user                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_groups__by_user        "testing:x:666:root"                               , ""            , x_names       , x_gids           i_equal     0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,users,wheel,æ                                                                                      
     echo     ...check gids                        - - - - - - - - - - - - -   x_gids                                                                                                w_equal     å,100,10,æ                                                                                       

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [··]  (GROUP) verify parsing group line for users                        0s   parsing         yenv_group__users                                                            ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   local      create a name variable               - - - - - - - - - - - - -   char  x_names [LEN_HUND]  = "";                                                                                                                                                                                            
   local      create a name variable               - - - - - - - - - - - - -   char  x_uids  [LEN_HUND]  = "";                                                                                                                                                                                            

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    

   COND       verify count of groups                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group__users           "users:x:100:root,member"                          , "users"       , x_names       , x_uids           i_equal     2                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,root,member,æ                                                                                
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     å,0,1000,æ                                                                                  

   COND       verify defenses                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group__users           "users:x:100:root,member"                          , "users"       , NULL          , x_uids           i_equal     2                                                                                                    
     exec     call line                            yenv_group__users           "users:x:100:root,member"                          , "users"       , x_names       , NULL             i_equal     2                                                                                                    

   COND       verify skipping wrong group                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group__users           "sys:x:100:root,member"                            , "users"       , x_names       , x_uids           i_lesser    0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     åæ                                                                                             
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     åæ                                                                                          

   COND       verify another group                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group__users           "sys:x:2:daemon"                                   , "sys"         , x_names       , x_uids           i_equal     1                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,daemon,æ                                                                                     
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     å,2,æ                                                                                       

   COND       attempt with NULL record                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group__users           NULL                                               , "users"       , x_names       , x_uids           i_lesser    0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     åæ                                                                                            
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     åæ                                                                                         

   COND       verify with no users                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group__users           "users:x:100:"                                     , "users"       , x_names       , x_uids           i_equal     0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å.æ                                                                                            
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     å.æ                                                                                         

   COND       attempt with NULL group                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group__users           "users:x:100:root,member"                          , NULL          , x_names       , x_uids           i_lesser    0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     åæ                                                                                            
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     åæ                                                                                         

   COND       verify with an illegal user                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group__users           "users:x:100:root,member,monkey"                   , "users"       , x_names       , x_uids           i_equal     3                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,root,member,<monkey>,æ                                                                                
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     å,0,1000,<>,æ                                                                                  

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [··]  (GROUP) verify getting users for group                             0s   users           yenv_group_users                                                             ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   local      create a name variable               - - - - - - - - - - - - -   char  x_names [LEN_HUND]  = "";                                                                                                                                                                                            
   local      create a name variable               - - - - - - - - - - - - -   char  x_uids  [LEN_HUND]  = "";                                                                                                                                                                                            

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    

   COND       verify count of users                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group_users            "bin"         , x_names       , x_uids                                                                i_equal     3                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,root,bin,daemon,æ                                                                            
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     å,0,1,2,æ                                                                                   

   COND       attempt a NULL group                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group_users            NULL          , x_names       , x_uids                                                                i_lesser    0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     åæ                                                                                             
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     åæ                                                                                          

   COND       attempt a empty group                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group_users            ""            , x_names       , x_uids                                                                i_lesser    0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     åæ                                                                                             
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     åæ                                                                                          

   COND       attempt a missing group                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group_users            "TROUBLE"     , x_names       , x_uids                                                                i_lesser    0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     åæ                                                                                             
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     åæ                                                                                          

   COND       verify another group                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group_users            "disk"        , x_names       , x_uids                                                                i_equal     2                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,root,adm,æ                                                                                   
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     å,0,3,æ                                                                                     

   COND       verify a single                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group_users            "root"        , x_names       , x_uids                                                                i_equal     1                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,root,æ                                                                                       
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     å,0,æ                                                                                       

   COND       verify a group without users                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_group_users            "input"       , x_names       , x_uids                                                                i_equal     0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å.æ                                                                                            
     echo     ...check uids                        - - - - - - - - - - - - -   x_uids                                                                                                w_equal     å.æ                                                                                         

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [··]  (GROUP) verify getting groups for user                             0s   groups          yenv_groups_by_user                                                          ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   local      create a name variable               - - - - - - - - - - - - -   char  x_names [LEN_HUND]  = "";                                                                                                                                                                                            
   local      create a name variable               - - - - - - - - - - - - -   char  x_gids  [LEN_HUND]  = "";                                                                                                                                                                                            

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    

   COND       verify count of groups                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_groups_by_user         "root"        , x_names       , x_gids                                                                i_equal     10                                                                                                   
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å,root,bin,daemon,sys,adm,disk,wheel,floppy,tape,video,æ                                                                            
     echo     ...check gids                        - - - - - - - - - - - - -   x_gids                                                                                                w_equal     å,0,1,2,3,4,6,10,11,26,27,æ                                                                                   

   COND       verify defenses                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_groups_by_user         "root"        , NULL          , x_gids                                                                i_equal     10                                                                                                   
     exec     call line                            yenv_groups_by_user         "root"        , x_names       , NULL                                                                  i_equal     10                                                                                                   

   COND       attempt with a NULL                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_groups_by_user         NULL          , x_names       , x_gids                                                                i_lesser    0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     åæ                                                                                                                                 
     echo     ...check gids                        - - - - - - - - - - - - -   x_gids                                                                                                w_equal     åæ                                                                                                           

   COND       verify user with no groups                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call line                            yenv_groups_by_user         "member"      , x_names       , x_gids                                                                i_equal     0                                                                                                    
     echo     ...check names                       - - - - - - - - - - - - -   x_names                                                                                               w_equal     å.æ                                                                                                                                 
     echo     ...check gids                        - - - - - - - - - - - - -   x_gids                                                                                                w_equal     å.æ                                                                                                           

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [··]  (GROUP) verify data access                                         0s   access          yENV_group_count, yENV_group_cursor, yENV_group_text                         ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    

   COND       verify count of groups                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call count                           yENV_group_count                                                                                                                  i_equal     38                                                                                                   

   COND       verify by cursor forward                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call head                            yENV_group_by_cursor        YDLST_HEAD                                                                                            w_equal     åroot          y  y      0   1  ,root,                                              ,0,                   Ïæ
     exec     call prev (boom)                     yENV_group_by_cursor        YDLST_PREV                                                                                            w_equal     å(n/a)æ
     exec     call next                            yENV_group_by_cursor        YDLST_NEXT                                                                                            w_equal     åbin           y  y      1   3  ,root,bin,daemon,                                   ,0,1,2,               Ïæ
     exec     call next                            yENV_group_by_cursor        YDLST_NEXT                                                                                            w_equal     ådaemon        y  y      2   3  ,root,bin,daemon,                                   ,0,1,2,               Ïæ
     exec     call current                         yENV_group_by_cursor        YDLST_CURR                                                                                            w_equal     ådaemon        y  y      2   3  ,root,bin,daemon,                                   ,0,1,2,               Ïæ

   COND       attempt with illegal directions                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call cursor with NULL                yENV_group_by_cursor        0                                                                                                     w_equal     å(bad dir)æ
     exec     call cursor with NULL                yENV_group_by_cursor        '/'                                                                                                   w_equal     å(bad dir)æ

   COND       verify by cursor backward                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call tail                            yENV_group_by_cursor        YDLST_TAIL                                                                                            w_equal     åmember        y  y   1000   0  .                                                   .                     Ïæ
     exec     call next (boom)                     yENV_group_by_cursor        YDLST_NEXT                                                                                            w_equal     å(n/a)æ
     exec     call prev                            yENV_group_by_cursor        YDLST_PREV                                                                                            w_equal     åntp           y  y    123   0  .                                                   .                     Ïæ
     exec     call prev                            yENV_group_by_cursor        YDLST_PREV                                                                                            w_equal     åsgx           y  y    405   0  .                                                   .                     Ïæ
     exec     call current                         yENV_group_by_cursor        YDLST_CURR                                                                                            w_equal     åsgx           y  y    405   0  .                                                   .                     Ïæ

   COND       verify by text                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call by name                         yENV_group_by_text          "member"                                                                                              w_equal     åmember        y  y   1000   0  .                                                   .                     Ïæ
     exec     call null                            yENV_group_by_text          NULL                                                                                                  w_equal     å(null)æ
     exec     call by gid                          yENV_group_by_text          "2"                                                                                                   w_equal     ådaemon        y  y      2   3  ,root,bin,daemon,                                   ,0,1,2,               Ïæ
     exec     call empty                           yENV_group_by_text          ""                                                                                                    w_equal     å(empty)æ

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    



