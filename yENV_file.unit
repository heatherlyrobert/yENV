



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (FILE) verify openning and closing regular files                   poly_code__open, poly_code__close                                                                     ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify library setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   char       x_mode   [LEN_SHORT] = "";                                                                                                                                                                                     
     local    create working variable              - - - - - - - - - - - - -   char       x_note   [LEN_LABEL] = "";                                                                                                                                                                                     
     local    create working variable              - - - - - - - - - - - - -   char       x_full   [LEN_PATH]  = "";                                                                                                                                                                                     
     local    create working variable              - - - - - - - - - - - - -   FILE       *f   = NULL;                                                                                                                                                                                                   

   COND  (0)  reset messages and errors                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     prepare outputs                      - - - - - - - - - - - - -   yURG_msg_tmp (); yURG_msg_live ();  yURG_err_tmp ();  yURG_err_live ();                                                                                                                                                    

   COND       attempt to close when not open                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... check on file                    yENV_detail_unit            "/tmp/testing.txt"                                                                                    s_equal     /tmp/testing.txt                               -  ·           ·           ·          ´                
     exec     call close                           yENV_close_full             "backup"      , &f     , '-'                                                                          i_lesser    0                                                                                                    
     exec     ... check on file                    yENV_detail_unit            "/tmp/testing.txt"                                                                                    s_equal     /tmp/testing.txt                               -  ·           ·           ·          ´                
     echo     ... review pointer                   - - - - - - - - - - - - -   f                                                                                                     p_null      0                                                                                                    

   COND  (1)  verify zero output                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     -1                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 0                                                                     s_equal     (n/a)                                                                                                                                                 
     exec     verify errors output                 yENV_lines                  YURG_ERR                                                                                              i_equal     -1                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_ERR                      , 0                                                                     s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt to open non-existant file                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... check on file                    yENV_detail_unit            "/tmp/testing.txt"                                                                                    s_equal     /tmp/testing.txt                               -  ·           ·           ·          ´                
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , "testing.txt"          , 'w' , x_mode, x_note, x_full, &f    i_lesser    0                                                                                                    
     exec     ... check on file                    yENV_detail_unit            "/tmp/testing.txt"                                                                                    s_equal     /tmp/testing.txt                               -  ·           ·           ·          ´                
     echo     ... check mode                       - - - - - - - - - - - - -   x_mode                                                                                                w_equal     åæ                                                                                                    
     echo     ... check note                       - - - - - - - - - - - - -   x_note                                                                                                w_equal     åæ                                                                                                                 
     echo     ... check full                       - - - - - - - - - - - - -   x_full                                                                                                w_equal     åæ                                                                                                                 
     echo     ... review pointer                   - - - - - - - - - - - - -   f                                                                                                     p_null      0                                                                                                    

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify quick open success                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     create testing file                  yENV_touch                  "/tmp/testing.txt"        , "root"  , "root"  , "0600"                                                c_equal     'r'                                                                                                  
     exec     ... check on file                    yENV_detail_unit            "/tmp/testing.txt"                                                                                    s_equal     /tmp/testing.txt                               r  root        root        rw-------  ´                
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , "testing.txt"          , 'w' , x_mode, x_note, x_full, &f    i_equal     RC_POSITIVE                                                                                          
     exec     ... check on file                    yENV_detail_unit            "/tmp/testing.txt"                                                                                    s_equal     /tmp/testing.txt                               r  root        root        rw-------  ´                
     echo     ... check mode                       - - - - - - - - - - - - -   x_mode                                                                                                w_equal     åwtæ                                                                                                  
     echo     ... check note                       - - - - - - - - - - - - -   x_note                                                                                                w_equal     åwriting as textæ                                                                                                  
     echo     ... check full                       - - - - - - - - - - - - -   x_full                                                                                                w_equal     å/tmp/testing.txtæ                                                                                                 
     echo     ... review pointer                   - - - - - - - - - - - - -   f                                                                                                     p_exists    0                                                                                                    

   COND       check clean pass                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     1                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 0                                                                     s_equal     ¬¬-- backup openned successfully (w, wt, writing as text)                                                                                                
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'Ö'                                                                   s_equal     (n/a)                                                                                                                                                 
     exec     verify errors output                 yENV_lines                  YURG_ERR                                                                                              i_equal     -1                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_ERR                      , 0                                                                     s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt to open with already open                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... check on file                    yENV_detail_unit            "/tmp/testing.txt"                                                                                    s_equal     /tmp/testing.txt                               r  root        root        rw-------  ´                
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , "testing.txt"          , 'w' , x_mode, x_note, x_full, &f    i_lesser    0                                                                                                    
     exec     ... check on file                    yENV_detail_unit            "/tmp/testing.txt"                                                                                    s_equal     /tmp/testing.txt                               r  root        root        rw-------  ´                
     echo     ... check mode                       - - - - - - - - - - - - -   x_mode                                                                                                w_equal     åæ                                                                                                    
     echo     ... check note                       - - - - - - - - - - - - -   x_note                                                                                                w_equal     åæ                                                                                                                 
     echo     ... check full                       - - - - - - - - - - - - -   x_full                                                                                                w_equal     åæ                                                                                                                 
     echo     ... review pointer                   - - - - - - - - - - - - -   f                                                                                                     p_exists    0                                                                                                    

   DITTO (1)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify quick close success                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... check on file                    yENV_detail_unit            "/tmp/testing.txt"                                                                                    s_equal     /tmp/testing.txt                               r  root        root        rw-------  ´                
     exec     call close                           yENV_close_full             "backup"      , &f     , '-'                                                                          i_equal     RC_POSITIVE                                                                                          
     exec     ... check on file                    yENV_detail_unit            "/tmp/testing.txt"                                                                                    s_equal     /tmp/testing.txt                               r  root        root        rw-------  ´                
     echo     ... review pointer                   - - - - - - - - - - - - -   f                                                                                                     p_null      0                                                                                                    

   COND       check clean pass                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     verify messages output               yENV_lines                  YURG_MSG                                                                                              i_equal     1                                                                                                    
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 0                                                                     s_equal     ¬¬-- backup closed successfully                                                                                                                                
     exec     ... review line                      yENV_peek                   YURG_MSG                      , 'Ö'                                                                   s_equal     (n/a)                                                                                                                                                 
     exec     verify errors output                 yENV_lines                  YURG_ERR                                                                                              i_equal     -1                                                                                                   
     exec     ... review line                      yENV_peek                   YURG_ERR                      , 0                                                                     s_equal     (n/a)                                                                                                

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt to open with null/empty/bad mode                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... check on file                    yENV_detail_unit            "/tmp/testing.txt"                                                                                    s_equal     /tmp/testing.txt                               r  root        root        rw-------  ´                
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , "testing.txt"          ,  0  , x_mode, x_note, x_full, &f    i_lesser    0                                                                                                    
     echo     ... check mode                       - - - - - - - - - - - - -   x_mode                                                                                                w_equal     åæ                                                                                                    
     echo     ... check note                       - - - - - - - - - - - - -   x_note                                                                                                w_equal     åæ                                                                                                                 
     echo     ... check full                       - - - - - - - - - - - - -   x_full                                                                                                w_equal     åæ                                                                                                                 
     echo     ... review pointer                   - - - - - - - - - - - - -   f                                                                                                     p_null      0                                                                                                    
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , "testing.txt"          , ' ' , x_mode, x_note, x_full, &f    i_lesser    0                                                                                                    
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , "testing.txt"          , 'j' , x_mode, x_note, x_full, &f    i_lesser    0                                                                                                    
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , "testing.txt"          , '&' , x_mode, x_note, x_full, &f    i_lesser    0                                                                                                    

   DITTO (1)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify open with missing returns                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , "testing.txt"          , 'w' , NULL  , x_note, x_full, &f    i_equal     RC_POSITIVE                                                                                          
     exec     call close                           yENV_close_full             "backup"      , &f     , '-'                                                                          i_equal     RC_POSITIVE                                                                                          
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , "testing.txt"          , 'w' , x_mode, NULL  , x_full, &f    i_equal     RC_POSITIVE                                                                                          
     exec     call close                           yENV_close_full             "backup"      , &f     , '-'                                                                          i_equal     RC_POSITIVE                                                                                          
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , "testing.txt"          , 'w' , x_mode, x_note, NULL  , &f    i_equal     RC_POSITIVE                                                                                          
     exec     call close                           yENV_close_full             "backup"      , &f     , '-'                                                                          i_equal     RC_POSITIVE                                                                                          

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt to open with no file pointer                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , "testing.txt"          , 'w' , x_mode, x_note, x_full, NULL  i_lesser    0                                                                                                    

   DITTO (1)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt to open with nulls in inputs                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            yENV_open_full              NULL          , "/tmp"                 , "testing.txt"          , 'w' , x_mode, x_note, x_full, NULL  i_lesser    0                                                                                                    
     exec     call open                            yENV_open_full              "backup"      , NULL                   , "testing.txt"          , 'w' , x_mode, x_note, x_full, NULL  i_lesser    0                                                                                                    
     exec     call open                            yENV_open_full              "backup"      , "/tmp"                 , NULL                   , 'w' , x_mode, x_note, x_full, NULL  i_lesser    0                                                                                                    

   DITTO (1)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt to close with nulls in inputs                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           yENV_close_full             NULL          , &f     , '-'                                                                          i_lesser    0                                                                                                    
     exec     call close                           yENV_close_full             "backup"      , NULL   , '-'                                                                          i_lesser    0                                                                                                    

   DITTO (1)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  


   COND       verify post-testing clean-up                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... remove file                      yENV_rm                     "/tmp/testing.txt"                                                                                    c_equal     '-'                                                                                                   

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    


