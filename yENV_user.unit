



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [··]  (USER) verify core data gathering                                  0s   core            yENV_user_data                                                               ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create a name variable               - - - - - - - - - - - - -   char  x_name  [LEN_USER]  = "";                                                                                                                                                                                            
     local    create a uid variable                - - - - - - - - - - - - -   int   x_uid  = -1;                                                                                                                                                                                                         
     local    create a gid variable                - - - - - - - - - - - - -   int   x_gid  = -1;                                                                                                                                                                                                         
     local    create a path variable               - - - - - - - - - - - - -   char  x_dir   [LEN_PATH]  = "";                                                                                                                                                                                             
     local    create a shell variable              - - - - - - - - - - - - -   char  x_shell [LEN_PATH]  = "";                                                                                                                                                                                             
     local    create a desc variable               - - - - - - - - - - - - -   char  h       [LEN_LABEL] = "";                                                                                                                                                                                            

   COND       start with a success                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    preprare input                       - - - - - - - - - - - - -   strcpy (x_name, "root");                                                                                                                                                                                                    
     exec     call user validation                 yENV_user_data              'n'  , x_name                 , &x_uid      , &x_gid       , x_dir         , x_shell                  i_equal     0                                                                                                    

   COND  (0)  validate result                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     årootæ                                                                                                
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     0                                                                                                    
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     å/rootæ                                                                                               
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     å/bin/bashæ                                                                                           

   COND       attempt a clearly false user                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    preprare input                       - - - - - - - - - - - - -   strcpy (x_name, "hasselback");                                                                                                                                                                                              
     exec     call user validation                 yENV_user_data              'n'  , x_name                 , &x_uid      , &x_gid       , x_dir         , x_shell                  i_lesser    0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åhasselbackæ                                                                                          
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     åæ                                                                                                   
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     åæ                                                                                                   

   COND       attempt null and empty names                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call user validation                 yENV_user_data              'n'  , NULL                   , &x_uid      , &x_gid       , x_dir         , x_shell                  i_lesser    0                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     åæ                                                                                                   
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     åæ                                                                                                   
     exec     call user validation                 yENV_user_data              'n'  , ""                     , &x_uid      , &x_gid       , x_dir         , x_shell                  i_lesser    0                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     åæ                                                                                                   
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     åæ                                                                                                   

   COND       verify defenses on return variables (by uid)                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    preprare input                       - - - - - - - - - - - - -   x_uid = 1000;                                                                                                                                                                                                               
     exec     call user validation                 yENV_user_data              'i'  , NULL                   , &x_uid      , &x_gid       , x_dir         , x_shell                  i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_data              'i'  , x_name                 , NULL        , &x_gid       , x_dir         , x_shell                  i_lesser    0                                                                                                    
     exec     call user validation                 yENV_user_data              'i'  , x_name                 , &x_uid      , NULL         , x_dir         , x_shell                  i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_data              'i'  , x_name                 , &x_uid      , &x_gid       , NULL          , x_shell                  i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_data              'i'  , x_name                 , &x_uid      , &x_gid       , x_dir         , NULL                     i_equal     0                                                                                                    

   COND       verify another success, with literal                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call user validation                 yENV_user_data              'n'  , "member"               , &x_uid      , &x_gid       , x_dir         , x_shell                  i_equal     0                                                                                                    

   COND  (1)  validate result                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     1000                                                                                                 
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     1000                                                                                                 
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     å/home/memberæ                                                                                        
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     å/bin/bashæ                                                                                           

   COND       verify a strange home dir                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    preprare input                       - - - - - - - - - - - - -   strcpy (x_name, "portage");                                                                                                                                                                                                 
     exec     call user validation                 yENV_user_data              'n'  , x_name                 , &x_uid      , &x_gid       , x_dir         , x_shell                  i_equal     0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åportageæ                                                                                             
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     250                                                                                                  
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     250                                                                                                  
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     å/var/lib/portage/homeæ                                                                               
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     å/sbin/nologinæ                                                                                        

   COND       verify defenses on return variables (by name)                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    preprare input                       - - - - - - - - - - - - -   strcpy (x_name, "portage");                                                                                                                                                                                                 
     exec     call user validation                 yENV_user_data              'n'  , NULL                   , &x_uid      , &x_gid       , x_dir         , x_shell                  i_lesser    0                                                                                                    
     exec     call user validation                 yENV_user_data              'n'  , x_name                 , NULL        , &x_gid       , x_dir         , x_shell                  i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_data              'n'  , x_name                 , &x_uid      , NULL         , x_dir         , x_shell                  i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_data              'n'  , x_name                 , &x_uid      , &x_gid       , NULL          , x_shell                  i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_data              'n'  , x_name                 , &x_uid      , &x_gid       , x_dir         , NULL                     i_equal     0                                                                                                    

   COND       verify by user id                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    preprare input                       - - - - - - - - - - - - -   x_uid = 1000;                                                                                                                                                                                                               
     exec     call user validation                 yENV_user_data              'i'  , x_name                 , &x_uid      , &x_gid       , x_dir         , x_shell                  i_equal     0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åmemberæ                                                                                              
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     1000                                                                                                 
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     1000                                                                                                 
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     å/home/memberæ                                                                                        
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     å/bin/bashæ                                                                                           

   COND       attempt an illegal user id                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     local    preprare input                       - - - - - - - - - - - - -   x_uid =  367;                                                                                                                                                                                                               
     exec     call user validation                 yENV_user_data              'i'  , x_name                 , &x_uid      , &x_gid       , x_dir         , x_shell                  i_lesser    0                                                                                                    
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åæ                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     367                                                                                                  
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     åæ                                                                                                   
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     åæ                                                                                                   

   COND       appempt with bad types                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call user validation                 yENV_user_data               0   , x_name                 , &x_uid      , &x_gid       , x_dir         , x_shell                  i_lesser    0                                                                                                    
     exec     call user validation                 yENV_user_data              'N'  , x_name                 , &x_uid      , &x_gid       , x_dir         , x_shell                  i_lesser    0                                                                                                    
     exec     call user validation                 yENV_user_data              '/'  , x_name                 , &x_uid      , &x_gid       , x_dir         , x_shell                  i_lesser    0                                                                                                    

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [··]  (USER) verify adding and deleting users                            10s  unittest        yENV_user_add, yENV_user_del, yENV_user_purge                                ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create a name variable               - - - - - - - - - - - - -   char  x_name  [LEN_TERSE] = "";                                                                                                                                                                                            
     local    create a uid variable                - - - - - - - - - - - - -   int   x_uid  = -1;                                                                                                                                                                                                         
     local    create a gid variable                - - - - - - - - - - - - -   int   x_gid  = -1;                                                                                                                                                                                                         
     local    create a path variable               - - - - - - - - - - - - -   char  x_dir   [LEN_HUND]  = "";                                                                                                                                                                                            
     local    create a shell variable              - - - - - - - - - - - - -   char  x_shell [LEN_HUND]  = "";                                                                                                                                                                                            
     local    create working variable              - - - - - - - - - - - - -   int        io, ig, ip;                                                                                                                                                                                                     

   COND       prepare                                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove user                          yENV_user_del               "USR_some"                                                                                            i_equal     1                                                                                                    
     exec     remove user                          yENV_user_del               "USR_guy"                                                                                             i_equal     1                                                                                                    

   COND       verify quick creation success                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     make user                            yENV_user_add               "USR_some"           , 9000 , 'y'  , 'b'                                                              i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_data              'n'  , "USR_some"             , &x_uid      , &x_gid       , x_dir         , x_shell                  i_equal     0                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     9000                                                                                                 
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     65534                                                                                                
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     å/home/USR_someæ                                                                                         
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     å/bin/bashæ                                                                                          

   COND       verify home directory                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call detail                          yENV_detail                 "/home/USR_some"    ,NULL, &io,NULL, &ig,NULL, &ip,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL   c_equal     'd'                                                                                                  
     echo     ... check user id                    - - - - - - - - - - - - -   io                                                                                                    i_equal     9000                                                                                                 
     echo     ... check group id                   - - - - - - - - - - - - -   ig                                                                                                    i_equal     65534                                                                                                
     echo     ... check permissions                - - - - - - - - - - - - -   ip                                                                                                    i_equal     0755                                                                                                 

   COND       verify quick deletion success                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove user                          yENV_user_del               "USR_some"                                                                                            i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_data              'n'  , "USR_some"             , &x_uid      , &x_gid       , x_dir         , x_shell                  i_lesser    0                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     åæ                                                                                                   
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     åæ                                                                                                   

   COND       verify home directory is gone                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call detail                          yENV_detail                 "/home/USR_some"    ,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL   c_equal     '-'                                                                                                  

   COND       attempt to create critical directory                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     make user                            yENV_user_add               "member"             , 9001 , '-'  , 'b'                                                              i_lesser    0                                                                                                    
     exec     make user                            yENV_user_add               "root"               , 9002 , '-'  , 'b'                                                              i_lesser    0                                                                                                    

   COND       verify creating a nologin without a home                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     make user                            yENV_user_add               "USR_guy"            , 9876 , '-'  , '-'                                                              i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_data              'n'  , "USR_guy"              , &x_uid      , &x_gid       , x_dir         , x_shell                  i_equal     0                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     9876                                                                                                 
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     65534                                                                                                
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     å/home/USR_guyæ                                                                                          
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     å/sbin/nologinæ                                                                                      

   COND       verify home directory was never created                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call detail                          yENV_exists                 "/home/USR_guy"                                                                                       c_equal     '-'                                                                                                  

   COND       verify deleting user                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove user                          yENV_user_del               "USR_guy"                                                                                             i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_data              'n'  , "USR_guy"              , NULL        , NULL         , NULL          , NULL                     i_lesser    0                                                                                                    

   COND       verify adding users                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     make user                            yENV_user_add               "USR_some"           , 9000 , 'y'  , 'b'                                                              i_equal     0                                                                                                    
     exec     make user                            yENV_user_add               "USR_guy"            , 9876 , '-'  , '-'                                                              i_equal     0                                                                                                    

   COND       verify purging unit test users                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call purge                           yENV_user_purge                                                                                                                   i_equal     2                                                                                                    
     exec     call user validation                 yENV_user_data              'n'  , "USR_some"             , &x_uid      , NULL         , NULL          , NULL                     i_lesser    0                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     -1                                                                                                   
     exec     call user validation                 yENV_user_data              'n'  , "USR_guy"              , &x_uid      , NULL         , NULL          , NULL                     i_lesser    0                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     -1                                                                                                   

   COND       verify production user still there                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call user validation                 yENV_user_data              'n'  , "root"                 , &x_uid      , NULL         , NULL          , NULL                     i_equal     0                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_data              'n'  , "member"               , &x_uid      , NULL         , NULL          , NULL                     i_equal     0                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     1000                                                                                                 

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [··]  (USER) verify user full interface                                  0s   full            yENV_user_full                                                               ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yENV__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create a name variable               - - - - - - - - - - - - -   char  x_name  [LEN_USER]  = "";                                                                                                                                                                                            
     local    create a uid variable                - - - - - - - - - - - - -   int   x_uid  = -1;                                                                                                                                                                                                         
     local    create a gid variable                - - - - - - - - - - - - -   int   x_gid  = -1;                                                                                                                                                                                                         
     local    create a path variable               - - - - - - - - - - - - -   char  x_dir   [LEN_PATH]  = "";                                                                                                                                                                                             
     local    create a shell variable              - - - - - - - - - - - - -   char  x_shell [LEN_PATH]  = "";                                                                                                                                                                                             
     local    create a desc variable               - - - - - - - - - - - - -   char  h       [LEN_LABEL] = "";                                                                                                                                                                                            

   COND       verify quick success                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call user validation                 yENV_user_full              YENV_REG  , "member"        , x_name    , &x_uid    , &x_gid    , x_dir     , x_shell   , h           i_equal     0                                                                                                    
     echo     ...check returned handler            - - - - - - - - - - - - -   h                                                                                                     w_equal     ånameæ                                                                                           

   COND  (0)  review output                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åmemberæ                                                                                              
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     1000                                                                                                 
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     1000                                                                                                 
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     å/home/memberæ                                                                                           
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     å/bin/bashæ                                                                                         

   COND       verify finding current user                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call user validation                 yENV_user_full              YENV_REG  , ""              , x_name    , &x_uid    , &x_gid    , x_dir     , x_shell   , h           i_equal     0                                                                                                    
     echo     ...check returned handler            - - - - - - - - - - - - -   h                                                                                                     w_equal     åcurrentæ                                                                                        

   COND  (2)  review output                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     årootæ                                                                                                
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     0                                                                                                    
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     0                                                                                                    
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     å/rootæ                                                                                                  
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     å/bin/bashæ                                                                                         

   COND       verify switching users                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch user                          yENV_user_switch            "member"                                                                                              i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_full              YENV_REG  , ""              , x_name    , &x_uid    , &x_gid    , x_dir     , x_shell   , h           i_equal     0                                                                                                    
     echo     ...check returned handler            - - - - - - - - - - - - -   h                                                                                                     w_equal     åcurrentæ                                                                                        

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify switching users back                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch user                          yENV_user_switch            "root"                                                                                                i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_full              YENV_REG  , ""              , x_name    , &x_uid    , &x_gid    , x_dir     , x_shell   , h           i_equal     0                                                                                                    
     echo     ...check returned handler            - - - - - - - - - - - - -   h                                                                                                     w_equal     åcurrentæ                                                                                        

   DITTO (2)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with a missing user                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call user validation                 yENV_user_full              YENV_REG  , "hank"          , x_name    , &x_uid    , &x_gid    , x_dir     , x_shell   , h           i_lesser    0                                                                                                    
     echo     ...check returned handler            - - - - - - - - - - - - -   h                                                                                                     w_equal     ånameæ                                                                                           

   COND  (1)  review output                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ...check returned name               - - - - - - - - - - - - -   x_name                                                                                                w_equal     åæ                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     -1                                                                                                   
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     åæ                                                                                                       
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     åæ                                                                                                  

   COND       verify quick success with uid                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call user validation                 yENV_user_full              YENV_REG  , "1000"          , x_name    , &x_uid    , &x_gid    , x_dir     , x_shell   , h           i_equal     0                                                                                                    
     echo     ...check returned handler            - - - - - - - - - - - - -   h                                                                                                     w_equal     åuidæ                                                                                            

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       attempt with a missing uid                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call user validation                 yENV_user_full              YENV_REG  , "9876"          , x_name    , &x_uid    , &x_gid    , x_dir     , x_shell   , h           i_lesser    0                                                                                                    
     echo     ...check returned handler            - - - - - - - - - - - - -   h                                                                                                     w_equal     åuidæ                                                                                            

   DITTO (1)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify finding new user                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     make user                            yENV_user_add               "USR_some"           , 9876 , 'y'  , 'b'                                                              i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_full              YENV_REG  , "9876"          , x_name    , &x_uid    , &x_gid    , x_dir     , x_shell   , h           i_equal     0                                                                                                    
     echo     ...check returned uid                - - - - - - - - - - - - -   x_uid                                                                                                 i_equal     9876                                                                                                 
     echo     ...check returned gid                - - - - - - - - - - - - -   x_gid                                                                                                 i_equal     65534                                                                                                
     echo     ...check returned dir                - - - - - - - - - - - - -   x_dir                                                                                                 w_equal     å/home/USR_someæ                                                                                         
     echo     ...check returned shell              - - - - - - - - - - - - -   x_shell                                                                                               w_equal     å/bin/bashæ                                                                                          

   COND       attempt finding a deleted user                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     delete user                          yENV_user_del               "USR_some"                                                                                            i_equal     0                                                                                                    
     exec     call user validation                 yENV_user_full              YENV_REG  , "9876"          , x_name    , &x_uid    , &x_gid    , x_dir     , x_shell   , h           i_lesser    0                                                                                                    

   DITTO (1)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((18.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap up testing                      yENV__unit_end                                                                                                                    i_equal     0                                                                                                    




